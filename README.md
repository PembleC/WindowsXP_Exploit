# WindowsXP_Exploit
Project for CS 373 - Defense Against the Dark Arts  

### Getting Started
You will need a windows xp machine or more likely an iso to create the VM: "en_winxp_home_x86_build2600.iso"


### Intel x86 Registers
EAX : accumulator : used for performing calculations, and used to store return values from function calls. Basic operations such as add, subtract, compare use this general-purpose register
EBX : base (does not have anything to do with base pointer). It has no general purpose and can be used to store data.
ECX : counter : used for iterations. ECX counts downward.
EDX : data : this is an extension of the EAX register. It allows for more complex calculations (multiply, divide) by allowing extra data to be stored to facilitate those calculations.
ESP : stack pointer
EBP : base pointer
ESI : source index : holds location of input data
EDI : destination index  : points to location of where result of data operation is stored
EIP : instruction pointer


I used a python script to create a .m3u file that crashes the RealPlayer software due to stack overflow. 
All Windows applications use memory and I used the ESP (Stack Pointer) to push to the top of the stack.
I first determined the buffer size to write exactly into the EIP.
Then, I found memory space to host my shellcode.
Next, I programmed it to jump to the shellcode in a reliable way.
Finally, I got the shellcode and finalized the exploit.


```
You can watch a video demo here at:
https://youtu.be/8rUT3PYOQ3w
```


This is similar to the well know exploitation done by the corelan team: 
https://www.corelan.be/index.php/2009/07/19/exploit-writing-tutorial-part-1-stack-based-overflows/
I used python instead of perl and Immunity Debugger with the Mona plugin, rather than Metasploit. 
